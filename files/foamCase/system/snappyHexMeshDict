/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2206                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      snappyHexMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

castellatedMesh true;
snap            false;
addLayers       true;


geometry
{
      Wall001.stl
      {
              type triSurfaceMesh;
              name Wall001; 
      }
      Wall002.stl
      {
              type triSurfaceMesh;
              name Wall002; 
      }
      Wall003.stl
      {
              type triSurfaceMesh;
              name Wall003; 
      }
      Wall004.stl
      {
              type triSurfaceMesh;
              name Wall004; 
      }
      Flr001.stl
      {
              type triSurfaceMesh;
              name Flr001; 
      }
      Roof001.stl
      {
              type triSurfaceMesh;
              name Roof001; 
      }
      Win001.stl
      {
              type triSurfaceMesh;
              name Win001; 
      }
};



castellatedMeshControls
{
    nCellsBetweenLevels 2;
    allowFreeStandingZoneFaces true;
    maxGlobalCells 2e8;
    maxLoadUnbalance 0.25;
    maxLocalCells 1e8;
    minRefinementCells 1;
    planarAngle 30;
    resolveFeatureAngle 30;

    features
    (
    );
    refinementSurfaces
    {
        Wall001
        {
               level (4 4);
        }
        Wall002
        {
               level (4 4);
        }
        Wall003
        {
               level (4 4);
        }
        Wall004
        {
               level (4 4);
        }
        Flr001
        {
               level (4 4);
        }
        Roof001
        {
               level (4 4);
        }
        Win001
        {
               level (4 4);
        }
    }
    refinementRegions
    {
    }
    locationInMesh (26.67 26.67 16.002); 
}

snapControls
{
      explicitFeatureSnap true;
      implicitFeatureSnap false;
      multiRegionFeatureSnap false;
      nFeatureSnapIter 10;
      nRelaxIter 5;
      nSmoothPatch 3;
      nSolveIter 100;
      tolerance 2.0;
}

// Settings for the layer addition.
addLayersControls
{
        relativeSizes true;
        expansionRatio 1.25;
        featureAngle 130;
        minThickness 0.05;
        nGrow 0;
        thickness 1;
        maxFaceThicknessRatio 0.5;
        nSmoothSurfaceNormals 1;
        nSmoothThickness 10;
        maxThicknessToMedialRatio 0.3;
        minMedialAxisAngle 90;
        minMedianAxisAngle 90;
        nSmoothNormals 30;
        nLayerIter 50;
        nRelaxedIter 20;
        nRelaxIter 5;
        slipFeatureAngle 30;
        nBufferCellsNoExtrude         0;
        layers
        {
              Wall001
              {
                      nSurfaceLayers 10;
              }
              Wall002
              {
                      nSurfaceLayers 10;
              }
              Wall003
              {
                      nSurfaceLayers 10;
              }
              Wall004
              {
                      nSurfaceLayers 10;
              }
              Flr001
              {
                      nSurfaceLayers 10;
              }
              Roof001
              {
                      nSurfaceLayers 10;
              }
              Win001
              {
                      nSurfaceLayers 10;
              }
      }
}

meshQualityControls
{
      #include "meshQualityDict"
      relaxed
      {
              maxNonOrtho 75;
      }
      nSmoothScale 4;
      errorReduction 0.75;
}
debug 0;
mergeTolerance 1e-6;
